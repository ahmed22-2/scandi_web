{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from 'axios';\nimport AddProduct from './AddProduct';\nexport default {\n  name: 'ProductList',\n  components: {\n    AddProduct: AddProduct\n  },\n  data: function data() {\n    return {\n      products: [],\n      toDelete: [],\n      host: \"https://scandi-task-api.000webhostapp.com/\"\n    };\n  },\n  methods: {\n    massDelete: function massDelete() {\n      var _this = this;\n\n      var checks = document.getElementsByClassName(\"delete-checkbox\");\n\n      for (var i = 0; i < checks.length; i++) {\n        if (checks[i].checked == true) {\n          this.toDelete.push(checks[i].id);\n        }\n      }\n\n      var data = new FormData();\n      data.append(\"toDeleteArray\", this.toDelete);\n      axios.post(this.host + \"back_end/public/home/delete\", data).then(function (res) {\n        if (res.data.error) {\n          console.log(\"Error\", res);\n        } else {\n          _this.getAllData();\n        }\n      }).catch(function (err) {\n        console.log(\"Error\", err);\n      });\n    },\n    getAllData: function getAllData() {\n      var _this2 = this;\n\n      axios.get(this.host + 'back_end/public/home/getData').then(function (res) {\n        return _this2.products = res.data;\n      }).catch(function (err) {\n        console.log(\"Error\", err);\n      });\n      console;\n    }\n  },\n  mounted: function mounted() {\n    this.getAllData();\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BA;AACA;AACA;EACAA,mBADA;EAEAC;IACAC;EADA,CAFA;EAKAC,IALA,kBAKA;IACA;MACAC,YADA;MAEAC,YAFA;MAGAC;IAHA;EAKA,CAXA;EAYAC;IACAC,UADA,wBACA;MAAA;;MACA;;MACA;QACA;UACA;QACA;MACA;;MACA;MACAL;MACAM,MACAC,IADA,CAEA,yCAFA,EAEAP,IAFA,EAGAQ,IAHA,CAGA;QACA;UACAC;QAEA,CAHA,MAGA;UACA;QACA;MACA,CAVA,EAWAC,KAXA,CAWA;QACAD;MACA,CAbA;IAcA,CAxBA;IAyBAE,UAzBA,wBAyBA;MAAA;;MACAL,MACAM,GADA,CACA,0CADA,EAEAJ,IAFA,CAEA;QAAA;MAAA,CAFA,EAGAE,KAHA,CAGA;QACAD;MACA,CALA;MAMAA;IACA;EAjCA,CAZA;EAkDAI,OAlDA,qBAkDA;IACA;EACA;AApDA","names":["name","components","AddProduct","data","products","toDelete","host","methods","massDelete","axios","post","then","console","catch","getAllData","get","mounted"],"sourceRoot":"src/views","sources":["ProductList.vue"],"sourcesContent":["<template>\n  <div class=\"container\">\n      <header>\n          <div>\n              <h2>Product List</h2>\n          </div>\n         <div class=\"btns-header\">\n              <button class=\"btn\"><router-link to=\"addproduct\">ADD</router-link></button>\n              <button class=\"btn\" id=\"delete-product-btn\" value=\"MASS DELETE\" @click=\"massDelete()\">MASS DELETE</button>\n         </div>\n      </header>      \n      <hr>\n      <div class=\"con\">\n          <div class=\"card\"  v-bind:key=\"objData.id\" v-for=\"objData in products\" >\n              <input type=\"checkbox\" class=\"delete-checkbox\" :id=\"objData.id\">\n              <ul>\n                  <li>{{objData.sku}}</li>\n                  <li>{{objData.name}}</li>\n                  <li>{{objData.price}}$</li>\n                  <li>{{objData.front_end}}</li>\n\n              </ul>\n          </div>\n      </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport AddProduct from './AddProduct';\nexport default {\n  name: 'ProductList',\n  components: {\n  AddProduct,\n},\ndata() {\n  return {\n      products: [],\n      toDelete:[],\n      host: \"https://scandi-task-api.000webhostapp.com/\"\n      }\n},  \nmethods: {\n    massDelete(){\n      let checks = document.getElementsByClassName(\"delete-checkbox\");\n      for(let i=0;i<checks.length;i++){\n      if(checks[i].checked == true){\n          this.toDelete.push(checks[i].id);\n          }\n      }\n      var data = new FormData();\n      data.append(\"toDeleteArray\", this.toDelete);\n      axios\n        .post(\n          this.host+\"back_end/public/home/delete\",data\n        ).then(res => {\n            if (res.data.error) {\n              console.log(\"Error\", res);\n\n            } else {\n                this.getAllData();\n            }\n          })\n          .catch(err => {\n            console.log(\"Error\", err);\n          });\n      },\n   getAllData(){\n         axios\n          .get(this.host+'back_end/public/home/getData')\n            .then(res => (this.products = res.data))\n            .catch(err => {\n              console.log(\"Error\", err);\n            });\n            console\n      }\n  \n\n \n},\nmounted () {\nthis.getAllData();\n},\n}\n</script>\n\n\n\n<style  scoped>\n.container {\n  /* position: relative; */\n  height:100%;\n  width: 100%;\n  overflow: hidden;\n}\nheader{\n  margin-top: 50px;\n  height: 40px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n}\n.btns-header {\n  margin-right: 50px;\n  width: 20%;\n  display: flex;\n  justify-content: space-around;\n}\n.btn {\n  color: #fff;\n  border: none;\n  background-color: #2298e6;\n  padding: 5px;\n}\n.btn a {\n  text-decoration: none;\n  color: #fff;\n}\nheader h2 {\n  margin-left: 20px; \n}\n\nul {\n  list-style: none;\n}\n.con {\n  margin: 10px;\n  width: 100%;\n  display: flex;\n  flex-wrap: wrap;\n}\n.card {\n  position: relative;\n  width: 200px;\n  padding: 5px;\n  margin: 10px;\n  border: 1px solid #2298e6;\n  background-color: #eee  ;\n}\n\n.card ul {\n  margin-left: 50%;\n  margin-bottom: 10px;\n  transform: translateX(-70%);\n  text-align: center;\n  color: #000 ;\n}\n\n\n\n</style>"]},"metadata":{},"sourceType":"module"}